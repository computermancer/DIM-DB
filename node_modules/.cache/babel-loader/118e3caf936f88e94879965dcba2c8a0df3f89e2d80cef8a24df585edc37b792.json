{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bravo\\\\Downloads\\\\BIG-DIM\\\\dim-drill-dashboard\\\\src\\\\components\\\\DrillLibrary.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { supabase } from '../config/supabase';\nimport { Link } from 'react-router-dom';\nimport { Toast } from './Toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function DrillLibrary() {\n  _s();\n  const [drills, setDrills] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [drillToDelete, setDrillToDelete] = useState(null);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [showToast, setShowToast] = useState(false);\n  const [toastType, setToastType] = useState('success');\n  const [expandedDrillId, setExpandedDrillId] = useState(null);\n  const [instructions, setInstructions] = useState({});\n  const [editedInstructions, setEditedInstructions] = useState({});\n  const [saving, setSaving] = useState(false);\n  const [editMode, setEditMode] = useState({});\n  const showErrorToast = message => {\n    setError(message);\n    setSuccessMessage(message);\n    setToastType('error');\n    setShowToast(true);\n  };\n  const showSuccessToast = message => {\n    setSuccessMessage(message);\n    setToastType('success');\n    setShowToast(true);\n  };\n  useEffect(() => {\n    fetchDrills();\n  }, []);\n  async function fetchDrills() {\n    try {\n      setLoading(true);\n      setError(null);\n      const {\n        data,\n        error\n      } = await supabase.from('drills').select('*');\n      if (error) throw error;\n      setDrills(data || []);\n    } catch (err) {\n      showErrorToast('Failed to fetch drills: ' + err.message);\n      console.error('Error fetching drills:', err);\n    } finally {\n      setLoading(false);\n    }\n  }\n  async function deleteDrill(id) {\n    // Set the drill to delete, which will trigger the confirmation popup\n    setDrillToDelete(drills.find(drill => drill.id === id));\n  }\n  async function confirmDelete() {\n    if (!drillToDelete) return;\n    try {\n      setLoading(true);\n      setError(null);\n\n      // First, try to delete any associated instructions\n      try {\n        const {\n          error: instructionsError\n        } = await supabase.from('drill_instructions').delete().eq('drill_id', drillToDelete.id);\n        if (instructionsError) {\n          console.error('Error deleting drill instructions:', instructionsError);\n          // Continue with drill deletion even if instructions deletion fails\n        }\n      } catch (instructionsErr) {\n        console.error('Error deleting drill instructions:', instructionsErr);\n        // Continue with drill deletion even if instructions deletion fails\n      }\n\n      // Then delete the drill\n      const {\n        error\n      } = await supabase.from('drills').delete().eq('id', drillToDelete.id);\n      if (error) throw error;\n\n      // Update the local state to remove the deleted drill\n      setDrills(drills.filter(drill => drill.id !== drillToDelete.id));\n\n      // Show success message\n      showSuccessToast('Drill deleted successfully');\n    } catch (err) {\n      showErrorToast('Failed to delete drill: ' + (err.message || 'Unknown error'));\n      console.error('Error deleting drill:', err);\n    } finally {\n      setLoading(false);\n      setDrillToDelete(null); // Close the popup after successful deletion\n    }\n  }\n  async function toggleInstructions(drillId) {\n    if (expandedDrillId === drillId) {\n      setExpandedDrillId(null);\n      setEditMode({\n        ...editMode,\n        [drillId]: false\n      });\n      return;\n    }\n    setExpandedDrillId(drillId);\n\n    // If we don't have instructions for this drill yet, fetch them\n    if (!instructions[drillId]) {\n      try {\n        setLoading(true);\n\n        // Try to fetch instructions\n        const {\n          data,\n          error\n        } = await supabase.from('drill_instructions').select('*').eq('drill_id', drillId).single();\n        if (error) {\n          if (error.code === 'PGRST116') {\n            // Instructions not found, create empty instructions\n            try {\n              const {\n                data: newInstructions,\n                error: createError\n              } = await supabase.from('drill_instructions').insert([{\n                drill_id: drillId,\n                instructions: '',\n                steps: '',\n                tips: '',\n                common_mistakes: '',\n                safety_notes: ''\n              }]).select().single();\n              if (createError) {\n                console.error('Error creating empty instructions:', createError);\n                // If the table doesn't exist, we'll just show an empty form\n                setInstructions(prev => ({\n                  ...prev,\n                  [drillId]: {\n                    drill_id: drillId,\n                    instructions: '',\n                    steps: '',\n                    tips: '',\n                    common_mistakes: '',\n                    safety_notes: ''\n                  }\n                }));\n                setEditedInstructions(prev => ({\n                  ...prev,\n                  [drillId]: {\n                    drill_id: drillId,\n                    instructions: '',\n                    steps: '',\n                    tips: '',\n                    common_mistakes: '',\n                    safety_notes: ''\n                  }\n                }));\n                // Set edit mode to true for new instructions\n                setEditMode({\n                  ...editMode,\n                  [drillId]: true\n                });\n              } else {\n                setInstructions(prev => ({\n                  ...prev,\n                  [drillId]: newInstructions\n                }));\n                setEditedInstructions(prev => ({\n                  ...prev,\n                  [drillId]: newInstructions\n                }));\n                // Set edit mode to true for new instructions\n                setEditMode({\n                  ...editMode,\n                  [drillId]: true\n                });\n              }\n            } catch (createErr) {\n              console.error('Error creating instructions:', createErr);\n              // If there's an error creating instructions, we'll just show an empty form\n              setInstructions(prev => ({\n                ...prev,\n                [drillId]: {\n                  drill_id: drillId,\n                  instructions: '',\n                  steps: '',\n                  tips: '',\n                  common_mistakes: '',\n                  safety_notes: ''\n                }\n              }));\n              setEditedInstructions(prev => ({\n                ...prev,\n                [drillId]: {\n                  drill_id: drillId,\n                  instructions: '',\n                  steps: '',\n                  tips: '',\n                  common_mistakes: '',\n                  safety_notes: ''\n                }\n              }));\n              // Set edit mode to true for new instructions\n              setEditMode({\n                ...editMode,\n                [drillId]: true\n              });\n            }\n          } else {\n            console.error('Error fetching instructions:', error);\n            setInstructions(prev => ({\n              ...prev,\n              [drillId]: null\n            }));\n          }\n        } else {\n          setInstructions(prev => ({\n            ...prev,\n            [drillId]: data\n          }));\n          setEditedInstructions(prev => ({\n            ...prev,\n            [drillId]: data\n          }));\n          // Set edit mode to false for existing instructions\n          setEditMode({\n            ...editMode,\n            [drillId]: false\n          });\n        }\n      } catch (err) {\n        console.error('Error in toggleInstructions:', err);\n        setInstructions(prev => ({\n          ...prev,\n          [drillId]: null\n        }));\n      } finally {\n        setLoading(false);\n      }\n    }\n  }\n  async function saveInstructions(drillId) {\n    if (!editedInstructions[drillId]) return;\n    try {\n      setSaving(true);\n\n      // First, try to update the instructions\n      const {\n        error: updateError\n      } = await supabase.from('drill_instructions').update(editedInstructions[drillId]).eq('drill_id', drillId);\n      if (updateError) {\n        // If update fails, try to insert the instructions\n        if (updateError.code === 'PGRST116' || updateError.code === '42P01') {\n          // Record not found or table doesn't exist, try to insert\n          const {\n            error: insertError\n          } = await supabase.from('drill_instructions').insert([{\n            drill_id: drillId,\n            instructions: editedInstructions[drillId].instructions || '',\n            steps: editedInstructions[drillId].steps || '',\n            tips: editedInstructions[drillId].tips || '',\n            common_mistakes: editedInstructions[drillId].common_mistakes || '',\n            safety_notes: editedInstructions[drillId].safety_notes || ''\n          }]);\n          if (insertError) {\n            console.error('Error inserting instructions:', insertError);\n            throw new Error('Failed to save instructions: ' + (insertError.message || 'Unknown error'));\n          }\n        } else {\n          throw updateError;\n        }\n      }\n\n      // Update the instructions state with the edited instructions\n      setInstructions(prev => ({\n        ...prev,\n        [drillId]: editedInstructions[drillId]\n      }));\n\n      // Show success message\n      showSuccessToast('Instructions saved successfully');\n    } catch (err) {\n      showErrorToast('Failed to save instructions: ' + (err.message || 'Unknown error'));\n      console.error('Error saving instructions:', err);\n    } finally {\n      setSaving(false);\n    }\n  }\n  function handleInputChange(drillId, field, value) {\n    setEditedInstructions(prev => ({\n      ...prev,\n      [drillId]: {\n        ...prev[drillId],\n        [field]: value\n      }\n    }));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-6 text-orange-400\",\n      children: \"Drill Library\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toast, {\n      message: successMessage,\n      isVisible: showToast,\n      onClose: () => setShowToast(false),\n      type: toastType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: \"Loading drills...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 9\n    }, this) : drills.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8 text-gray-400\",\n      children: \"No drills found. Add some drills to get started.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: drills.map((drill, index) => {\n        var _instructions$drill$i, _instructions$drill$i2, _instructions$drill$i3, _instructions$drill$i4, _instructions$drill$i5, _editedInstructions$d, _editedInstructions$d2, _editedInstructions$d3, _editedInstructions$d4, _editedInstructions$d5;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[#2c2c2c] border border-[#3a3a3a] p-4 rounded shadow relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-red-600 hover:bg-red-500 text-white px-2 py-1 rounded absolute top-2 right-2\",\n            onClick: () => deleteDrill(drill.id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-orange-300\",\n                children: drill.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm\",\n              children: [drill.purpose && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Purpose:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 23\n                }, this), \" \", drill.purpose]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 21\n              }, this), drill.plane && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Plane:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 23\n                }, this), \" \", drill.plane]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 21\n              }, this), drill.muscles && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Muscles:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 23\n                }, this), \" \", drill.muscles]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 21\n              }, this), drill.joint_actions && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Joint Actions:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 23\n                }, this), \" \", drill.joint_actions]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 21\n              }, this), drill.nervous_system && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Nervous System:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 23\n                }, this), \" \", drill.nervous_system]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), drill.psych_components && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Psych Components:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 23\n                }, this), \" \", drill.psych_components]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 21\n              }, this), drill.tendons_loaded && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Tendons Loaded:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 23\n                }, this), \" \", drill.tendons_loaded]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this), drill.influences && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Influences:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 23\n                }, this), \" \", drill.influences]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this), drill.execution_needs && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Execution Needs:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 23\n                }, this), \" \", drill.execution_needs]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 21\n              }, this), drill.regression && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Regression:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 23\n                }, this), \" \", drill.regression]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 21\n              }, this), drill.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400\",\n                  children: \"Notes:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 23\n                }, this), \" \", drill.notes]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 pt-4 border-t border-[#3a3a3a]\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => toggleInstructions(drill.id),\n                className: \"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-sm inline-block\",\n                children: expandedDrillId === drill.id ? 'Hide Instructions' : 'Show Instructions'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this), expandedDrillId === drill.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4\",\n                children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center py-4\",\n                  children: \"Loading instructions...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 25\n                }, this) : !instructions[drill.id] ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center py-4 text-gray-400\",\n                  children: \"No instructions available yet.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: !editMode[drill.id] ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"text-md font-semibold text-orange-300 mb-2\",\n                        children: \"Instructions\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 377,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-[#1a1a1a] border border-[#3a3a3a] p-3 rounded text-white whitespace-pre-wrap\",\n                        children: ((_instructions$drill$i = instructions[drill.id]) === null || _instructions$drill$i === void 0 ? void 0 : _instructions$drill$i.instructions) || 'No instructions available.'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 378,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"text-md font-semibold text-orange-300 mb-2\",\n                        children: \"Steps\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 384,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-[#1a1a1a] border border-[#3a3a3a] p-3 rounded text-white whitespace-pre-wrap\",\n                        children: ((_instructions$drill$i2 = instructions[drill.id]) === null || _instructions$drill$i2 === void 0 ? void 0 : _instructions$drill$i2.steps) || 'No steps available.'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 385,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 383,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"text-md font-semibold text-orange-300 mb-2\",\n                        children: \"Tips\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 391,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-[#1a1a1a] border border-[#3a3a3a] p-3 rounded text-white whitespace-pre-wrap\",\n                        children: ((_instructions$drill$i3 = instructions[drill.id]) === null || _instructions$drill$i3 === void 0 ? void 0 : _instructions$drill$i3.tips) || 'No tips available.'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"text-md font-semibold text-orange-300 mb-2\",\n                        children: \"Common Mistakes\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 398,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-[#1a1a1a] border border-[#3a3a3a] p-3 rounded text-white whitespace-pre-wrap\",\n                        children: ((_instructions$drill$i4 = instructions[drill.id]) === null || _instructions$drill$i4 === void 0 ? void 0 : _instructions$drill$i4.common_mistakes) || 'No common mistakes listed.'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 399,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 397,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"text-md font-semibold text-orange-300 mb-2\",\n                        children: \"Safety Notes\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 405,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-[#1a1a1a] border border-[#3a3a3a] p-3 rounded text-white whitespace-pre-wrap\",\n                        children: ((_instructions$drill$i5 = instructions[drill.id]) === null || _instructions$drill$i5 === void 0 ? void 0 : _instructions$drill$i5.safety_notes) || 'No safety notes available.'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 406,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 404,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-end\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => setEditMode({\n                          ...editMode,\n                          [drill.id]: true\n                        }),\n                        className: \"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded\",\n                        children: \"Edit Instructions\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 412,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"text-md font-semibold text-orange-300 mb-2\",\n                        children: \"Instructions\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 424,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        className: \"w-full bg-[#1a1a1a] border border-[#3a3a3a] p-2 rounded text-white\",\n                        rows: \"3\",\n                        value: ((_editedInstructions$d = editedInstructions[drill.id]) === null || _editedInstructions$d === void 0 ? void 0 : _editedInstructions$d.instructions) || '',\n                        onChange: e => handleInputChange(drill.id, 'instructions', e.target.value),\n                        placeholder: \"Enter general instructions for this drill...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 425,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"text-md font-semibold text-orange-300 mb-2\",\n                        children: \"Steps\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 435,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        className: \"w-full bg-[#1a1a1a] border border-[#3a3a3a] p-2 rounded text-white\",\n                        rows: \"3\",\n                        value: ((_editedInstructions$d2 = editedInstructions[drill.id]) === null || _editedInstructions$d2 === void 0 ? void 0 : _editedInstructions$d2.steps) || '',\n                        onChange: e => handleInputChange(drill.id, 'steps', e.target.value),\n                        placeholder: \"Enter step-by-step instructions...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 436,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"text-md font-semibold text-orange-300 mb-2\",\n                        children: \"Tips\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 446,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        className: \"w-full bg-[#1a1a1a] border border-[#3a3a3a] p-2 rounded text-white\",\n                        rows: \"2\",\n                        value: ((_editedInstructions$d3 = editedInstructions[drill.id]) === null || _editedInstructions$d3 === void 0 ? void 0 : _editedInstructions$d3.tips) || '',\n                        onChange: e => handleInputChange(drill.id, 'tips', e.target.value),\n                        placeholder: \"Enter helpful tips...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 447,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 445,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"text-md font-semibold text-orange-300 mb-2\",\n                        children: \"Common Mistakes\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 457,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        className: \"w-full bg-[#1a1a1a] border border-[#3a3a3a] p-2 rounded text-white\",\n                        rows: \"2\",\n                        value: ((_editedInstructions$d4 = editedInstructions[drill.id]) === null || _editedInstructions$d4 === void 0 ? void 0 : _editedInstructions$d4.common_mistakes) || '',\n                        onChange: e => handleInputChange(drill.id, 'common_mistakes', e.target.value),\n                        placeholder: \"Enter common mistakes to avoid...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 458,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"text-md font-semibold text-orange-300 mb-2\",\n                        children: \"Safety Notes\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 468,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        className: \"w-full bg-[#1a1a1a] border border-[#3a3a3a] p-2 rounded text-white\",\n                        rows: \"2\",\n                        value: ((_editedInstructions$d5 = editedInstructions[drill.id]) === null || _editedInstructions$d5 === void 0 ? void 0 : _editedInstructions$d5.safety_notes) || '',\n                        onChange: e => handleInputChange(drill.id, 'safety_notes', e.target.value),\n                        placeholder: \"Enter safety notes...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 469,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 467,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-end space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => setEditMode({\n                          ...editMode,\n                          [drill.id]: false\n                        }),\n                        className: \"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded\",\n                        children: \"Cancel\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 479,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          saveInstructions(drill.id);\n                          setEditMode({\n                            ...editMode,\n                            [drill.id]: false\n                          });\n                        },\n                        disabled: saving,\n                        className: \"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded\",\n                        children: saving ? 'Saving...' : 'Save Instructions'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 485,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 478,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }, this), drillToDelete && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-[#2c2c2c] p-6 rounded-lg shadow-lg max-w-md w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-orange-400 mb-4\",\n          children: \"Confirm Deletion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-6\",\n          children: \"Are you sure you want to delete this drill?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded\",\n            onClick: () => setDrillToDelete(null),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded\",\n            onClick: confirmDelete,\n            children: \"Yes, Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 5\n  }, this);\n}\n_s(DrillLibrary, \"aIbwigdI9VHg79ZKXw1ZumaHt8w=\");\n_c = DrillLibrary;\nvar _c;\n$RefreshReg$(_c, \"DrillLibrary\");","map":{"version":3,"names":["useState","useEffect","supabase","Link","Toast","jsxDEV","_jsxDEV","Fragment","_Fragment","DrillLibrary","_s","drills","setDrills","error","setError","loading","setLoading","drillToDelete","setDrillToDelete","successMessage","setSuccessMessage","showToast","setShowToast","toastType","setToastType","expandedDrillId","setExpandedDrillId","instructions","setInstructions","editedInstructions","setEditedInstructions","saving","setSaving","editMode","setEditMode","showErrorToast","message","showSuccessToast","fetchDrills","data","from","select","err","console","deleteDrill","id","find","drill","confirmDelete","instructionsError","delete","eq","instructionsErr","filter","toggleInstructions","drillId","single","code","newInstructions","createError","insert","drill_id","steps","tips","common_mistakes","safety_notes","prev","createErr","saveInstructions","updateError","update","insertError","Error","handleInputChange","field","value","children","className","fileName","_jsxFileName","lineNumber","columnNumber","isVisible","onClose","type","length","map","index","_instructions$drill$i","_instructions$drill$i2","_instructions$drill$i3","_instructions$drill$i4","_instructions$drill$i5","_editedInstructions$d","_editedInstructions$d2","_editedInstructions$d3","_editedInstructions$d4","_editedInstructions$d5","onClick","name","purpose","plane","muscles","joint_actions","nervous_system","psych_components","tendons_loaded","influences","execution_needs","regression","notes","rows","onChange","e","target","placeholder","disabled","_c","$RefreshReg$"],"sources":["C:/Users/bravo/Downloads/BIG-DIM/dim-drill-dashboard/src/components/DrillLibrary.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { supabase } from '../config/supabase';\r\nimport { Link } from 'react-router-dom';\r\nimport { Toast } from './Toast';\r\n\r\nexport function DrillLibrary() {\r\n  const [drills, setDrills] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [drillToDelete, setDrillToDelete] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const [showToast, setShowToast] = useState(false);\r\n  const [toastType, setToastType] = useState('success');\r\n  const [expandedDrillId, setExpandedDrillId] = useState(null);\r\n  const [instructions, setInstructions] = useState({});\r\n  const [editedInstructions, setEditedInstructions] = useState({});\r\n  const [saving, setSaving] = useState(false);\r\n  const [editMode, setEditMode] = useState({});\r\n\r\n  const showErrorToast = (message) => {\r\n    setError(message);\r\n    setSuccessMessage(message);\r\n    setToastType('error');\r\n    setShowToast(true);\r\n  };\r\n\r\n  const showSuccessToast = (message) => {\r\n    setSuccessMessage(message);\r\n    setToastType('success');\r\n    setShowToast(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDrills();\r\n  }, []);\r\n\r\n  async function fetchDrills() {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const { data, error } = await supabase.from('drills').select('*');\r\n      if (error) throw error;\r\n      setDrills(data || []);\r\n    } catch (err) {\r\n      showErrorToast('Failed to fetch drills: ' + err.message);\r\n      console.error('Error fetching drills:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function deleteDrill(id) {\r\n    // Set the drill to delete, which will trigger the confirmation popup\r\n    setDrillToDelete(drills.find(drill => drill.id === id));\r\n  }\r\n\r\n  async function confirmDelete() {\r\n    if (!drillToDelete) return;\r\n    \r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      // First, try to delete any associated instructions\r\n      try {\r\n        const { error: instructionsError } = await supabase\r\n          .from('drill_instructions')\r\n          .delete()\r\n          .eq('drill_id', drillToDelete.id);\r\n        \r\n        if (instructionsError) {\r\n          console.error('Error deleting drill instructions:', instructionsError);\r\n          // Continue with drill deletion even if instructions deletion fails\r\n        }\r\n      } catch (instructionsErr) {\r\n        console.error('Error deleting drill instructions:', instructionsErr);\r\n        // Continue with drill deletion even if instructions deletion fails\r\n      }\r\n      \r\n      // Then delete the drill\r\n      const { error } = await supabase\r\n        .from('drills')\r\n        .delete()\r\n        .eq('id', drillToDelete.id);\r\n      \r\n      if (error) throw error;\r\n      \r\n      // Update the local state to remove the deleted drill\r\n      setDrills(drills.filter(drill => drill.id !== drillToDelete.id));\r\n      \r\n      // Show success message\r\n      showSuccessToast('Drill deleted successfully');\r\n    } catch (err) {\r\n      showErrorToast('Failed to delete drill: ' + (err.message || 'Unknown error'));\r\n      console.error('Error deleting drill:', err);\r\n    } finally {\r\n      setLoading(false);\r\n      setDrillToDelete(null); // Close the popup after successful deletion\r\n    }\r\n  }\r\n\r\n  async function toggleInstructions(drillId) {\r\n    if (expandedDrillId === drillId) {\r\n      setExpandedDrillId(null);\r\n      setEditMode({ ...editMode, [drillId]: false });\r\n      return;\r\n    }\r\n    \r\n    setExpandedDrillId(drillId);\r\n    \r\n    // If we don't have instructions for this drill yet, fetch them\r\n    if (!instructions[drillId]) {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Try to fetch instructions\r\n        const { data, error } = await supabase\r\n          .from('drill_instructions')\r\n          .select('*')\r\n          .eq('drill_id', drillId)\r\n          .single();\r\n        \r\n        if (error) {\r\n          if (error.code === 'PGRST116') {\r\n            // Instructions not found, create empty instructions\r\n            try {\r\n              const { data: newInstructions, error: createError } = await supabase\r\n                .from('drill_instructions')\r\n                .insert([\r\n                  {\r\n                    drill_id: drillId,\r\n                    instructions: '',\r\n                    steps: '',\r\n                    tips: '',\r\n                    common_mistakes: '',\r\n                    safety_notes: ''\r\n                  }\r\n                ])\r\n                .select()\r\n                .single();\r\n              \r\n              if (createError) {\r\n                console.error('Error creating empty instructions:', createError);\r\n                // If the table doesn't exist, we'll just show an empty form\r\n                setInstructions(prev => ({ ...prev, [drillId]: {\r\n                  drill_id: drillId,\r\n                  instructions: '',\r\n                  steps: '',\r\n                  tips: '',\r\n                  common_mistakes: '',\r\n                  safety_notes: ''\r\n                }}));\r\n                setEditedInstructions(prev => ({ ...prev, [drillId]: {\r\n                  drill_id: drillId,\r\n                  instructions: '',\r\n                  steps: '',\r\n                  tips: '',\r\n                  common_mistakes: '',\r\n                  safety_notes: ''\r\n                }}));\r\n                // Set edit mode to true for new instructions\r\n                setEditMode({ ...editMode, [drillId]: true });\r\n              } else {\r\n                setInstructions(prev => ({ ...prev, [drillId]: newInstructions }));\r\n                setEditedInstructions(prev => ({ ...prev, [drillId]: newInstructions }));\r\n                // Set edit mode to true for new instructions\r\n                setEditMode({ ...editMode, [drillId]: true });\r\n              }\r\n            } catch (createErr) {\r\n              console.error('Error creating instructions:', createErr);\r\n              // If there's an error creating instructions, we'll just show an empty form\r\n              setInstructions(prev => ({ ...prev, [drillId]: {\r\n                drill_id: drillId,\r\n                instructions: '',\r\n                steps: '',\r\n                tips: '',\r\n                common_mistakes: '',\r\n                safety_notes: ''\r\n              }}));\r\n              setEditedInstructions(prev => ({ ...prev, [drillId]: {\r\n                drill_id: drillId,\r\n                instructions: '',\r\n                steps: '',\r\n                tips: '',\r\n                common_mistakes: '',\r\n                safety_notes: ''\r\n              }}));\r\n              // Set edit mode to true for new instructions\r\n              setEditMode({ ...editMode, [drillId]: true });\r\n            }\r\n          } else {\r\n            console.error('Error fetching instructions:', error);\r\n            setInstructions(prev => ({ ...prev, [drillId]: null }));\r\n          }\r\n        } else {\r\n          setInstructions(prev => ({ ...prev, [drillId]: data }));\r\n          setEditedInstructions(prev => ({ ...prev, [drillId]: data }));\r\n          // Set edit mode to false for existing instructions\r\n          setEditMode({ ...editMode, [drillId]: false });\r\n        }\r\n      } catch (err) {\r\n        console.error('Error in toggleInstructions:', err);\r\n        setInstructions(prev => ({ ...prev, [drillId]: null }));\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  async function saveInstructions(drillId) {\r\n    if (!editedInstructions[drillId]) return;\r\n    \r\n    try {\r\n      setSaving(true);\r\n      \r\n      // First, try to update the instructions\r\n      const { error: updateError } = await supabase\r\n        .from('drill_instructions')\r\n        .update(editedInstructions[drillId])\r\n        .eq('drill_id', drillId);\r\n      \r\n      if (updateError) {\r\n        // If update fails, try to insert the instructions\r\n        if (updateError.code === 'PGRST116' || updateError.code === '42P01') {\r\n          // Record not found or table doesn't exist, try to insert\r\n          const { error: insertError } = await supabase\r\n            .from('drill_instructions')\r\n            .insert([{\r\n              drill_id: drillId,\r\n              instructions: editedInstructions[drillId].instructions || '',\r\n              steps: editedInstructions[drillId].steps || '',\r\n              tips: editedInstructions[drillId].tips || '',\r\n              common_mistakes: editedInstructions[drillId].common_mistakes || '',\r\n              safety_notes: editedInstructions[drillId].safety_notes || ''\r\n            }]);\r\n          \r\n          if (insertError) {\r\n            console.error('Error inserting instructions:', insertError);\r\n            throw new Error('Failed to save instructions: ' + (insertError.message || 'Unknown error'));\r\n          }\r\n        } else {\r\n          throw updateError;\r\n        }\r\n      }\r\n      \r\n      // Update the instructions state with the edited instructions\r\n      setInstructions(prev => ({ ...prev, [drillId]: editedInstructions[drillId] }));\r\n      \r\n      // Show success message\r\n      showSuccessToast('Instructions saved successfully');\r\n    } catch (err) {\r\n      showErrorToast('Failed to save instructions: ' + (err.message || 'Unknown error'));\r\n      console.error('Error saving instructions:', err);\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  function handleInputChange(drillId, field, value) {\r\n    setEditedInstructions(prev => ({\r\n      ...prev,\r\n      [drillId]: {\r\n        ...prev[drillId],\r\n        [field]: value\r\n      }\r\n    }));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-2xl font-semibold mb-6 text-orange-400\">Drill Library</h2>\r\n      \r\n      <Toast \r\n        message={successMessage} \r\n        isVisible={showToast} \r\n        onClose={() => setShowToast(false)} \r\n        type={toastType} \r\n      />\r\n      \r\n      {loading ? (\r\n        <div className=\"text-center py-8\">Loading drills...</div>\r\n      ) : drills.length === 0 ? (\r\n        <div className=\"text-center py-8 text-gray-400\">No drills found. Add some drills to get started.</div>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {drills.map((drill, index) => (\r\n            <div key={index} className=\"bg-[#2c2c2c] border border-[#3a3a3a] p-4 rounded shadow relative\">\r\n              <button \r\n                className=\"bg-red-600 hover:bg-red-500 text-white px-2 py-1 rounded absolute top-2 right-2\"\r\n                onClick={() => deleteDrill(drill.id)}\r\n              >\r\n                Delete\r\n              </button>\r\n              <div className=\"p-4\">\r\n                <div className=\"mb-2\">\r\n                  <h3 className=\"text-lg font-semibold text-orange-300\">{drill.name}</h3>\r\n                </div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm\">\r\n                  {drill.purpose && (\r\n                    <div>\r\n                      <span className=\"text-gray-400\">Purpose:</span> {drill.purpose}\r\n                    </div>\r\n                  )}\r\n                  {drill.plane && (\r\n                    <div>\r\n                      <span className=\"text-gray-400\">Plane:</span> {drill.plane}\r\n                    </div>\r\n                  )}\r\n                  {drill.muscles && (\r\n                    <div>\r\n                      <span className=\"text-gray-400\">Muscles:</span> {drill.muscles}\r\n                    </div>\r\n                  )}\r\n                  {drill.joint_actions && (\r\n                    <div>\r\n                      <span className=\"text-gray-400\">Joint Actions:</span> {drill.joint_actions}\r\n                    </div>\r\n                  )}\r\n                  {drill.nervous_system && (\r\n                    <div>\r\n                      <span className=\"text-gray-400\">Nervous System:</span> {drill.nervous_system}\r\n                    </div>\r\n                  )}\r\n                  {drill.psych_components && (\r\n                    <div>\r\n                      <span className=\"text-gray-400\">Psych Components:</span> {drill.psych_components}\r\n                    </div>\r\n                  )}\r\n                  {drill.tendons_loaded && (\r\n                    <div>\r\n                      <span className=\"text-gray-400\">Tendons Loaded:</span> {drill.tendons_loaded}\r\n                    </div>\r\n                  )}\r\n                  {drill.influences && (\r\n                    <div>\r\n                      <span className=\"text-gray-400\">Influences:</span> {drill.influences}\r\n                    </div>\r\n                  )}\r\n                  {drill.execution_needs && (\r\n                    <div>\r\n                      <span className=\"text-gray-400\">Execution Needs:</span> {drill.execution_needs}\r\n                    </div>\r\n                  )}\r\n                  {drill.regression && (\r\n                    <div>\r\n                      <span className=\"text-gray-400\">Regression:</span> {drill.regression}\r\n                    </div>\r\n                  )}\r\n                  {drill.notes && (\r\n                    <div className=\"col-span-2\">\r\n                      <span className=\"text-gray-400\">Notes:</span> {drill.notes}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* Instructions Section */}\r\n                <div className=\"mt-4 pt-4 border-t border-[#3a3a3a]\">\r\n                  <button\r\n                    onClick={() => toggleInstructions(drill.id)}\r\n                    className=\"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-sm inline-block\"\r\n                  >\r\n                    {expandedDrillId === drill.id ? 'Hide Instructions' : 'Show Instructions'}\r\n                  </button>\r\n                  \r\n                  {expandedDrillId === drill.id && (\r\n                    <div className=\"mt-4\">\r\n                      {loading ? (\r\n                        <div className=\"text-center py-4\">Loading instructions...</div>\r\n                      ) : !instructions[drill.id] ? (\r\n                        <div className=\"text-center py-4 text-gray-400\">No instructions available yet.</div>\r\n                      ) : (\r\n                        <div>\r\n                          {!editMode[drill.id] ? (\r\n                            <>\r\n                              {/* View Mode */}\r\n                              <div className=\"mb-4\">\r\n                                <h4 className=\"text-md font-semibold text-orange-300 mb-2\">Instructions</h4>\r\n                                <div className=\"bg-[#1a1a1a] border border-[#3a3a3a] p-3 rounded text-white whitespace-pre-wrap\">\r\n                                  {instructions[drill.id]?.instructions || 'No instructions available.'}\r\n                                </div>\r\n                              </div>\r\n                              \r\n                              <div className=\"mb-4\">\r\n                                <h4 className=\"text-md font-semibold text-orange-300 mb-2\">Steps</h4>\r\n                                <div className=\"bg-[#1a1a1a] border border-[#3a3a3a] p-3 rounded text-white whitespace-pre-wrap\">\r\n                                  {instructions[drill.id]?.steps || 'No steps available.'}\r\n                                </div>\r\n                              </div>\r\n                              \r\n                              <div className=\"mb-4\">\r\n                                <h4 className=\"text-md font-semibold text-orange-300 mb-2\">Tips</h4>\r\n                                <div className=\"bg-[#1a1a1a] border border-[#3a3a3a] p-3 rounded text-white whitespace-pre-wrap\">\r\n                                  {instructions[drill.id]?.tips || 'No tips available.'}\r\n                                </div>\r\n                              </div>\r\n                              \r\n                              <div className=\"mb-4\">\r\n                                <h4 className=\"text-md font-semibold text-orange-300 mb-2\">Common Mistakes</h4>\r\n                                <div className=\"bg-[#1a1a1a] border border-[#3a3a3a] p-3 rounded text-white whitespace-pre-wrap\">\r\n                                  {instructions[drill.id]?.common_mistakes || 'No common mistakes listed.'}\r\n                                </div>\r\n                              </div>\r\n                              \r\n                              <div className=\"mb-4\">\r\n                                <h4 className=\"text-md font-semibold text-orange-300 mb-2\">Safety Notes</h4>\r\n                                <div className=\"bg-[#1a1a1a] border border-[#3a3a3a] p-3 rounded text-white whitespace-pre-wrap\">\r\n                                  {instructions[drill.id]?.safety_notes || 'No safety notes available.'}\r\n                                </div>\r\n                              </div>\r\n                              \r\n                              <div className=\"flex justify-end\">\r\n                                <button\r\n                                  onClick={() => setEditMode({ ...editMode, [drill.id]: true })}\r\n                                  className=\"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded\"\r\n                                >\r\n                                  Edit Instructions\r\n                                </button>\r\n                              </div>\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              {/* Edit Mode */}\r\n                              <div className=\"mb-4\">\r\n                                <h4 className=\"text-md font-semibold text-orange-300 mb-2\">Instructions</h4>\r\n                                <textarea\r\n                                  className=\"w-full bg-[#1a1a1a] border border-[#3a3a3a] p-2 rounded text-white\"\r\n                                  rows=\"3\"\r\n                                  value={editedInstructions[drill.id]?.instructions || ''}\r\n                                  onChange={(e) => handleInputChange(drill.id, 'instructions', e.target.value)}\r\n                                  placeholder=\"Enter general instructions for this drill...\"\r\n                                />\r\n                              </div>\r\n                              \r\n                              <div className=\"mb-4\">\r\n                                <h4 className=\"text-md font-semibold text-orange-300 mb-2\">Steps</h4>\r\n                                <textarea\r\n                                  className=\"w-full bg-[#1a1a1a] border border-[#3a3a3a] p-2 rounded text-white\"\r\n                                  rows=\"3\"\r\n                                  value={editedInstructions[drill.id]?.steps || ''}\r\n                                  onChange={(e) => handleInputChange(drill.id, 'steps', e.target.value)}\r\n                                  placeholder=\"Enter step-by-step instructions...\"\r\n                                />\r\n                              </div>\r\n                              \r\n                              <div className=\"mb-4\">\r\n                                <h4 className=\"text-md font-semibold text-orange-300 mb-2\">Tips</h4>\r\n                                <textarea\r\n                                  className=\"w-full bg-[#1a1a1a] border border-[#3a3a3a] p-2 rounded text-white\"\r\n                                  rows=\"2\"\r\n                                  value={editedInstructions[drill.id]?.tips || ''}\r\n                                  onChange={(e) => handleInputChange(drill.id, 'tips', e.target.value)}\r\n                                  placeholder=\"Enter helpful tips...\"\r\n                                />\r\n                              </div>\r\n                              \r\n                              <div className=\"mb-4\">\r\n                                <h4 className=\"text-md font-semibold text-orange-300 mb-2\">Common Mistakes</h4>\r\n                                <textarea\r\n                                  className=\"w-full bg-[#1a1a1a] border border-[#3a3a3a] p-2 rounded text-white\"\r\n                                  rows=\"2\"\r\n                                  value={editedInstructions[drill.id]?.common_mistakes || ''}\r\n                                  onChange={(e) => handleInputChange(drill.id, 'common_mistakes', e.target.value)}\r\n                                  placeholder=\"Enter common mistakes to avoid...\"\r\n                                />\r\n                              </div>\r\n                              \r\n                              <div className=\"mb-4\">\r\n                                <h4 className=\"text-md font-semibold text-orange-300 mb-2\">Safety Notes</h4>\r\n                                <textarea\r\n                                  className=\"w-full bg-[#1a1a1a] border border-[#3a3a3a] p-2 rounded text-white\"\r\n                                  rows=\"2\"\r\n                                  value={editedInstructions[drill.id]?.safety_notes || ''}\r\n                                  onChange={(e) => handleInputChange(drill.id, 'safety_notes', e.target.value)}\r\n                                  placeholder=\"Enter safety notes...\"\r\n                                />\r\n                              </div>\r\n                              \r\n                              <div className=\"flex justify-end space-x-2\">\r\n                                <button\r\n                                  onClick={() => setEditMode({ ...editMode, [drill.id]: false })}\r\n                                  className=\"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded\"\r\n                                >\r\n                                  Cancel\r\n                                </button>\r\n                                <button\r\n                                  onClick={() => {\r\n                                    saveInstructions(drill.id);\r\n                                    setEditMode({ ...editMode, [drill.id]: false });\r\n                                  }}\r\n                                  disabled={saving}\r\n                                  className=\"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded\"\r\n                                >\r\n                                  {saving ? 'Saving...' : 'Save Instructions'}\r\n                                </button>\r\n                              </div>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Confirmation Popup */}\r\n      {drillToDelete && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-[#2c2c2c] p-6 rounded-lg shadow-lg max-w-md w-full\">\r\n            <h3 className=\"text-xl font-bold text-orange-400 mb-4\">Confirm Deletion</h3>\r\n            <p className=\"mb-6\">Are you sure you want to delete this drill?</p>\r\n            <div className=\"flex justify-end space-x-4\">\r\n              <button \r\n                className=\"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded\"\r\n                onClick={() => setDrillToDelete(null)}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button \r\n                className=\"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded\"\r\n                onClick={confirmDelete}\r\n              >\r\n                Yes, Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}